
<h1 style="margin-top: 20px" class="text-center">Shopping Cart</h1>
<ng-container *ngIf="cart$ | async as cart">

<table class="table" cellspacing="0">
    <thead class="thead-dark">
        <tr>
            <th scope="col" ></th>
            <th scope="col" >Product</th>
            <th scope="col" >Price</th>
            <th scope="col" >Quantity</th>
            <th scope="col" >Total</th>
        </tr>
    </thead>
    
    <tbody>
        <tr *ngFor = "let item of cart.items" class="content">
            <td>
                <div [style.backgroundImage]="'url(' + item.imageUrl + ')'" class="thumbnail"></div>
            </td>

            <td>
                <span style="font-weight:bold"> {{ item.title }}</span><span> ({{ item.size }})</span>
            </td>

            <td>
                <span>{{ item.price | currency:'LKR':"symbol-narrow"}} </span>
            </td>

            <td>
                <quantity [products]="item" [shopping-cart]="cart"></quantity>
            </td>

            <td>
                <span>{{ item.totalPrice | currency:'LKR':"symbol-narrow"}}</span>					
            </td>
        </tr>

    </tbody>
    <tfoot>
        <tr>
            <td><button
                *ngIf="cart.items.length" 
                (click) ="clearCart()"
                class="btn btn-danger btn-sm">Clear Shoppin cart</button></td>
            <td></td>
            <td></td>
            <th *ngIf="cart.items.length">Subtotal</th>
            <td><span *ngIf="cart.items.length">{{ cart.totalPrice | currency:'LKR':"symbol-narrow" }} </span></td>
        </tr> 
        <tr>
            <th colspan="5">
                <a *ngIf="cart.items.length" routerLink="/check-out" class="btn btn-primary">Proceed to Checkout</a>
            </th>
        </tr>
    </table>
            <br><br>
</ng-container>

